[gd_scene load_steps=11 format=3 uid="uid://bs42bviltvgmm"]

[ext_resource type="Script" uid="uid://djdo1le1ay61m" path="res://entities/mobs/mob.gd" id="1_f7npc"]
[ext_resource type="Script" uid="uid://btyutyr4turgr" path="res://entities/components/triangle.gd" id="2_j6van"]
[ext_resource type="Script" uid="uid://b26x67y683mfj" path="res://entities/components/vehicle_movement.gd" id="3_k4rpq"]
[ext_resource type="Script" uid="uid://cqru7phnxp24n" path="res://entities/components/boid_steering.gd" id="4_y2l8m"]
[ext_resource type="Script" uid="uid://rwhujoi55543" path="res://entities/mobs/boid_behaviours/attract.gd" id="5_gvryt"]
[ext_resource type="Script" uid="uid://y0g5eucy4u0n" path="res://entities/mobs/boid_behaviours/avoid.gd" id="6_na7sn"]
[ext_resource type="Script" uid="uid://dcn5v68viapqi" path="res://entities/mobs/boid_behaviours/align.gd" id="7_eyayw"]
[ext_resource type="Script" uid="uid://dq1ffjlcyvgr0" path="res://entities/components/boid_debug.gd" id="8_lo5yl"]

[sub_resource type="CircleShape2D" id="CircleShape2D_is3ju"]
radius = 48.0

[sub_resource type="CircleShape2D" id="CircleShape2D_o00ia"]
radius = 8.0

[node name="WyrmSpawn" type="Node2D"]
script = ExtResource("1_f7npc")

[node name="Triangle" type="Node2D" parent="."]
script = ExtResource("2_j6van")
color = Color(0.817324, 0.913215, 0.989904, 1)
outline_color = Color(0.796446, 0.31883, 0.759028, 1)
outline_width = 1.0
metadata/_custom_type_script = "uid://btyutyr4turgr"

[node name="VehicleMovement" type="Node" parent="."]
script = ExtResource("3_k4rpq")
speed = 30.0
turning_speed = 1.0
metadata/_custom_type_script = "uid://b26x67y683mfj"

[node name="BoidSteering" type="Node" parent="." node_paths=PackedStringArray("vehicle_movement")]
script = ExtResource("4_y2l8m")
vehicle_movement = NodePath("../VehicleMovement")
metadata/_custom_type_script = "uid://cqru7phnxp24n"

[node name="Attract" type="Node" parent="BoidSteering"]
script = ExtResource("5_gvryt")
weight = 2.0
metadata/_custom_type_script = "uid://rwhujoi55543"

[node name="Avoid" type="Node" parent="BoidSteering" node_paths=PackedStringArray("behaviour_range", "own_collider")]
script = ExtResource("6_na7sn")
weight = 200.0
behaviour_range = NodePath("../../BehaviourRange")
own_collider = NodePath("../../Collider")
metadata/_custom_type_script = "uid://y0g5eucy4u0n"

[node name="Align" type="Node" parent="BoidSteering" node_paths=PackedStringArray("behaviour_range", "own_collider")]
script = ExtResource("7_eyayw")
weight = 0.5
behaviour_range = NodePath("../../BehaviourRange")
own_collider = NodePath("../../Collider")
metadata/_custom_type_script = "uid://dcn5v68viapqi"

[node name="BehaviourRange" type="Area2D" parent="."]
visible = false
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="BehaviourRange"]
shape = SubResource("CircleShape2D_is3ju")

[node name="Collider" type="StaticBody2D" parent="."]
visible = false
collision_layer = 5
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Collider"]
shape = SubResource("CircleShape2D_o00ia")

[node name="BoidDebug" type="Node2D" parent="." node_paths=PackedStringArray("boid_steering")]
visible = false
script = ExtResource("8_lo5yl")
boid_steering = NodePath("../BoidSteering")
metadata/_custom_type_script = "uid://dq1ffjlcyvgr0"
